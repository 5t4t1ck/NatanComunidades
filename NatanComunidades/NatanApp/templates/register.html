{% extends "layouts/base-login.html" %}

{% block title %} Register {% endblock %} 

{% block content %}
<link rel="stylesheet" href="static/css/logo.css">
    <div class="row">
      <div class="col col-login mx-auto">
        <div class="text-center mb-6">
          <img src="/static/assets/demo/brand/logo.png" class="h-6" alt=""><span class="titulo-logo">Ñaipytyô</span>
        </div>
        
        {% if success %}

          <div class="card-body p-6">
            <div class="card-title text-center">

              <p class="text-center">
                Usuario registrado.
                <br />
                Por favor <strong><button onclick="window.location='/'">inicie sesión</button></strong> con su usuario y contraseña.
              </p>  
            
            </div>
          </div>    

        {% else %}

          <form class="card" action="" method="post">

            {% csrf_token %}

            <div class="card-body p-6">
              <div class="card-title text-center">

                {% if msg %}
                  {{ msg | safe }}
                {% else %}
                  Regístrate en Ñapytyvo o <strong><a href={% url 'home' %} >inicia sesión</a></strong> con una cuenta existente.
                {% endif %}  
                
              </div>

              <div class="form-group">
                <label class="form-label">Username (Nombre)</label>
                {{ form.username }}
              </div>
              <span class="text-danger">{{ form.username.errors }}</span>

              <br />

              <div class="form-group">
                <label class="form-label">Apellido</label>
                {{ form.apellido }}
              </div>
              <span class="text-danger">{{ form.apellido.errors }}</span>

              <br />
              
              <div class="form-group">
                <label class="form-label">Email</label>
                {{ form.email }}
              </div>
              <span class="text-danger">{{ form.email.errors }}</span>

              <br />

              <div class="form-group">
                <label class="form-label">
                  Contraseña
                </label>
                {{ form.password1 }}
              </div>
              <span class="text-danger">{{ form.password1.errors }}</span>

              <br />

              <div class="form-group">
                <label class="form-label">
                  Repita la contraseña
                </label>
                {{ form.password2 }}
              </div>
              <span class="text-danger">{{ form.password2.errors }}</span>

              <br />

              <div class="form-group">
                <label class="form-label">
                  Selecione el tipo de Usuario
                </label>
                {{ form.Roles }}
              </div>

              <br />
              
              <div class="form-group">
                <label class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" />
                  <span class="custom-control-label">Acepto los términos.</span>
                </label>
              </div>

              <div class="form-footer">
                <button type="submit" name="register" class="btn btn-primary btn-block">Regístrate</button>
              </div>
            </div>

          </form>
        
        {% endif %}

        <div class="text-center text-muted">
            <b>Oñondivepa Ñaipytyvô</b> &copy; es una campaña de la <a href="https://fundacionnatan.org/"> Fundación Natán</a> y el
            <a href="http://www.ieeeparaguay.org/acerca.html" >IEEE UNA SB Branch</a>
            <br />
            <!-- Código fuente <a href="#">disponible en GitHub.</a> -->
          </div>
                
      </div>
    </div>
        
{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
